<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Net::SSH::Transport::State</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Net::SSH::Transport::State</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../../files/lib/net/ssh/transport/state_rb.html">
                lib/net/ssh/transport/state.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Encapsulates state information about one end of an <a
href="../../SSH.html">SSH</a> connection. Such state includes the packet
sequence number, the algorithms in use, how many packets and blocks have
been processed since the last reset, and so forth. This class will never be
instantiated directly, but is used as part of the internal state of the <a
href="PacketStream.html">PacketStream</a> module.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000383">cleanup</a>&nbsp;&nbsp;
      <a href="#M000380">compress</a>&nbsp;&nbsp;
      <a href="#M000379">compression?</a>&nbsp;&nbsp;
      <a href="#M000377">compressor</a>&nbsp;&nbsp;
      <a href="#M000381">decompress</a>&nbsp;&nbsp;
      <a href="#M000378">decompressor</a>&nbsp;&nbsp;
      <a href="#M000375">final_cipher</a>&nbsp;&nbsp;
      <a href="#M000376">increment</a>&nbsp;&nbsp;
      <a href="#M000384">needs_rekey?</a>&nbsp;&nbsp;
      <a href="#M000372">new</a>&nbsp;&nbsp;
      <a href="#M000382">reset!</a>&nbsp;&nbsp;
      <a href="#M000373">set</a>&nbsp;&nbsp;
      <a href="#M000374">update_cipher</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">block_size</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The block size for the cipher

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">blocks</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The number of data blocks processed since the last call to reset!

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">cipher</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The cipher algorithm in use for this socket endpoint.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">compression</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The compression algorithm in use for this endpoint.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">compression_level</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The compression level to use when compressing data (or nil, for the
default).

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">hmac</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The hmac algorithm in use for this endpoint.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">max_blocks</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
The maximum number of blocks that this endpoint wants to process before
needing a rekey.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">max_packets</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
The maximum number of packets that this endpoint wants to process before
needing a rekey.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">packets</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The number of packets processed since the last call to reset!

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">rekey_limit</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
The user-specified maximum number of bytes that this endpoint ought to
process before needing a rekey.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">role</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The role that this state plays (either :client or :server)

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">sequence_number</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The next packet sequence number for this socket endpoint.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">socket</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The socket object that owns this state object.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000372" class="method-detail">
        <a name="M000372"></a>

        <div class="method-heading">
          <a href="State.src/M000372.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000372.html');return false;">
          <span class="method-name">new</span><span class="method-args">(socket, role)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a <a href="State.html#M000372">new</a> state object, belonging to
the given socket. Initializes the algorithms to &quot;none&quot;.
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000383" class="method-detail">
        <a name="M000383"></a>

        <div class="method-heading">
          <a href="State.src/M000383.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000383.html');return false;">
          <span class="method-name">cleanup</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Closes any the <a href="State.html#M000377">compressor</a> and/or <a
href="State.html#M000378">decompressor</a> objects that have been
instantiated.
</p>
        </div>
      </div>

      <div id="method-M000380" class="method-detail">
        <a name="M000380"></a>

        <div class="method-heading">
          <a href="State.src/M000380.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000380.html');return false;">
          <span class="method-name">compress</span><span class="method-args">(data)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Compresses the data. If no compression is in effect, this will just return
the data unmodified, otherwise it uses <a
href="State.html#M000377">compressor</a> to <a
href="State.html#M000380">compress</a> the data.
</p>
        </div>
      </div>

      <div id="method-M000379" class="method-detail">
        <a name="M000379"></a>

        <div class="method-heading">
          <a href="State.src/M000379.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000379.html');return false;">
          <span class="method-name">compression?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if data compression/decompression is enabled. This will return
true if :standard compression is selected, or if :delayed compression is
selected and the :authenticated hint has been received by the socket.
</p>
        </div>
      </div>

      <div id="method-M000377" class="method-detail">
        <a name="M000377"></a>

        <div class="method-heading">
          <a href="State.src/M000377.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000377.html');return false;">
          <span class="method-name">compressor</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="State.html#M000377">compressor</a> object to use when
compressing data. This takes into account the desired compression level.
</p>
        </div>
      </div>

      <div id="method-M000381" class="method-detail">
        <a name="M000381"></a>

        <div class="method-heading">
          <a href="State.src/M000381.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000381.html');return false;">
          <span class="method-name">decompress</span><span class="method-args">(data)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deompresses the data. If no compression is in effect, this will just return
the data unmodified, otherwise it uses <a
href="State.html#M000378">decompressor</a> to <a
href="State.html#M000381">decompress</a> the data.
</p>
        </div>
      </div>

      <div id="method-M000378" class="method-detail">
        <a name="M000378"></a>

        <div class="method-heading">
          <a href="State.src/M000378.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000378.html');return false;">
          <span class="method-name">decompressor</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="State.html#M000378">decompressor</a> object to use when
decompressing data.
</p>
        </div>
      </div>

      <div id="method-M000375" class="method-detail">
        <a name="M000375"></a>

        <div class="method-heading">
          <a href="State.src/M000375.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000375.html');return false;">
          <span class="method-name">final_cipher</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000376" class="method-detail">
        <a name="M000376"></a>

        <div class="method-heading">
          <a href="State.src/M000376.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000376.html');return false;">
          <span class="method-name">increment</span><span class="method-args">(packet_length)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Increments the counters. The sequence number is incremented (and remapped
so it always fits in a 32-bit integer). The number of packets and blocks
are also incremented.
</p>
        </div>
      </div>

      <div id="method-M000384" class="method-detail">
        <a name="M000384"></a>

        <div class="method-heading">
          <a href="State.src/M000384.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000384.html');return false;">
          <span class="method-name">needs_rekey?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if the number of packets processed exceeds the maximum number
of packets, or if the number of blocks processed exceeds the maximum number
of blocks.
</p>
        </div>
      </div>

      <div id="method-M000382" class="method-detail">
        <a name="M000382"></a>

        <div class="method-heading">
          <a href="State.src/M000382.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000382.html');return false;">
          <span class="method-name">reset!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Resets the counters on the state object, but leaves the sequence_number
unchanged. It also sets defaults for and recomputes the max_packets and
max_blocks values.
</p>
        </div>
      </div>

      <div id="method-M000373" class="method-detail">
        <a name="M000373"></a>

        <div class="method-heading">
          <a href="State.src/M000373.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000373.html');return false;">
          <span class="method-name">set</span><span class="method-args">(values)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A convenience method for quickly setting multiple values in a single
command.
</p>
        </div>
      </div>

      <div id="method-M000374" class="method-detail">
        <a name="M000374"></a>

        <div class="method-heading">
          <a href="State.src/M000374.html" target="Code" class="method-signature"
            onclick="popupCode('State.src/M000374.html');return false;">
          <span class="method-name">update_cipher</span><span class="method-args">(data)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>